<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Viral game</title>
  <link rel="stylesheet" href="./style.css">

  <link rel="stylesheet" href="res/bootstrap/css/bootstrap.min.css">
  <script src="res/bootstrap/js/bootstrap.min.js"></script>

  <script src="res/Chart.bundle.min.js"></script>
  <script src="res/jquery.min.js"></script>
  <script src="./script.js" defer="defer"></script>

</head>

<body>

  <div class="canvas_container">
    <canvas id="canvas"></canvas>
  </div>

  <div class="settings">

    <canvas id="chart"></canvas>

    <script>
      var ctx = document.getElementById('chart').getContext('2d');
      var chart = new Chart(ctx, {
        // The type of chart we want to create
        type: 'line',
        beginAtZero: true,

        // The data for our dataset
        data: {
          labels: [],
          datasets: [{
            label: 'My First dataset',
            backgroundColor: 'rgb(255, 99, 132)',
            borderColor: 'rgb(255, 99, 132)',
            data: []
          }]
        },

        // Configuration options go here
        options: {
          scales: {
            yAxes: [{
              ticks: {
                suggestedMin: 0,
                suggestedMax: stateProxy.root_population
                }
              }]
            }
          }
        });



      function addEntries() {
        chart.data.labels.push(time);
        chart.data.datasets.forEach((dataset) => {
          dataset.data.push(stateProxy.population);
        });

        chart.update();
      }
    </script>

    <table class="table">
      <thead class="thead-light">
        <tr>
          <th>uninfected</th>
          <th>infected</th>
          <th>healed</th>
          <th>died</th>
          <th>free beds</th>
          <th>needed beds</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><span id="statUninfected"></span></td>
          <td><span id="statInfected"></span></td>
          <td><span id="statHealed"></span></td>
          <td><span id="statDied"></span></td>
          <td><span id="statFreeBeds"></span></td>
          <td><span id="statNeededBeds"></span></td>
        </tr>
      </tbody>
    </table>
    <p>&nbsp;</p>

    <div class="slidecontainer">
      <p>Population: <span id="populationSize"></span></p>
      <input type="range" min="1" max="1024" value="50" class="custom-range slider" id="populationRange">
      <p>Infected (start): <span id="infectedSize"></span></p>
      <input type="range" min="1" max="1024" value="10" class="custom-range slider" id="infectedRange">
      <p>Velocity: <span id="velocity"></span></p>
      <input type="range" min="1" max="1024" value="50" class="custom-range slider" id="velocityRange">
      <p>Beds in Hospital: <span id="hospital"></span></p>
      <input type="range" min="1" max="1024" value="50" class="custom-range slider" id="hospitalRange">
      <p>Need for hospital (%, otherwise dead): <span id="neededHospital"></span></p>
      <input type="range" min="0" max="100" value="5" class="custom-range slider" id="neededHospitalRange">
      <p>Death rate in Hospital (%): <span id="deathRate"></span></p>
      <input type="range" min="0" max="100" value="3" class="custom-range slider" id="deathRateRange">
      <p>Time to recovery: <span id="recoveryTime"></span></p>
      <input type="range" min="0" max="100" value="3" class="custom-range slider" id="recoveryTimeRange">
      <p>Time in hospital: <span id="hospitalTime"></span></p>
      <input type="range" min="0" max="100" value="3" class="custom-range slider" id="hospitalTimeRange">
    </div>
    <div id="button-row" class="row">
      <input type="button" class="form-control col-sm" id="start" value="Start"></input>
      <input type="button" class="form-control ml-1 col-sm" id="stop" value="Stop"></input>
      <input type="button" class="form-control ml-1 col-sm" id="new" value="New simulation"></input>
    </div>
  </div>


</body>

</html>